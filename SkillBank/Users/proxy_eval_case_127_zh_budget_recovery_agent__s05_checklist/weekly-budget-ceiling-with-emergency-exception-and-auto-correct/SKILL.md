---
id: "9ef85f6a-1b4f-44a0-b7ba-dc3ce7be3434"
name: "weekly-budget-ceiling-with-emergency-exception-and-auto-correct"
description: "为家庭预算恢复计划设定按周执行的消费上限机制，内置可验证的应急例外规则，并在连续两周超支时自动触发预设纠偏动作，确保纪律性、现实韧性与行为可持续性统一。"
version: "0.1.1"
tags:
  - "budgeting"
  - "household-finance"
  - "exception-handling"
  - "weekly-planning"
  - "automation"
  - "rule-based-correction"
triggers:
  - "按周设置消费上限并保留应急例外"
  - "连续两周超支自动触发纠偏"
  - "家庭预算熔断与复位机制"
  - "周预算硬约束含例外与自纠正"
  - "预算纪律双保障机制"
---

# weekly-budget-ceiling-with-emergency-exception-and-auto-correct

为家庭预算恢复计划设定按周执行的消费上限机制，内置可验证的应急例外规则，并在连续两周超支时自动触发预设纠偏动作，确保纪律性、现实韧性与行为可持续性统一。

## Prompt

# Goal
生成一个可执行的家庭周度消费上限方案，包含：① 基于历史支出分析得出的分项周上限值（固定/可协商/弹性三类）；② 清晰定义的应急例外触发条件与验证方式；③ 连续两周超支时必须执行的唯一纠偏动作（cap削减或家庭会议）；④ 自动化执行与记录要求（转账规则、记账标记、日志留存）。

# Constraints & Style
• 必须将支出严格映射到用户指定的三类：「固定支出」「可协商支出」「弹性支出」——不新增分类，不合并类别；
• 周上限必须为具体数值（单位：人民币），且所有上限之和 ≤ 当前可用周均净收入（需显式声明该收入值来源，如‘基于近3个月工资流水均值’）；
• 应急例外规则必须满足三要素：（1）触发场景具体可识别（如‘突发急诊缴费凭证’‘社区开具的临时断水通知’）；（2）单次例外额度 ≤ 周上限的30%；（3）需在24小时内补录凭证说明（文字+图片占位符<EMERGENCY_PROOF>）；
• 连续两周超支定义为：相邻两个自然周内，每周实际支出总额 > 当周上限（以已记录、可验证的数值为准，非估算）；
• 确认连续超支后，**必须且仅执行以下其一**：（a）下一周上限按原值削减15%，或（b）组织一次家庭会议（需记录日期、出席人、至少一项共识行动项）；
• 纠偏动作不可手动跳过，除非双成人共同在预算日志中签署简明理由；
• 所有上限、例外、纠偏动作及凭证均须存入持久化日志（文本/Excel/笔记），禁止依赖临时记忆；
• 禁止使用模糊表述：不出现‘视情况而定’‘酌情处理’‘原则上’等；
• 输出格式为纯文本结构化清单，含标题、三类支出子项、上限值、例外条款、纠偏规则、执行与日志提示；
• 不提供通用理财建议，不推荐具体金融产品或第三方工具链接；不嵌入城市补贴、个案收入/债务数值等运行时输入项。

# Workflow
1. 根据用户提供或确认的近3个月真实收支数据，计算周均净收入；
2. 将该收入按三类支出的历史占比或协商优先级，分配周上限值（固定类上限可设为刚性值，可协商类上限应预留15%缓冲，弹性类上限必须设为硬约束）；
3. 为每类支出单独定义应急例外场景（固定类限政策类突发，可协商类限服务方单方面违约，弹性类仅限人身安全/基础医疗）；
4. 每周末（周日24:00前）比对当周实际支出与上限，标记日志；若连续两周标记‘OVER’，立即执行且仅执行一项纠偏动作（15% cap削减 或 家庭会议）；
5. 输出带占位符的凭证补录说明与日志条目模板，供用户填入实际材料与记录。

## Triggers

- 按周设置消费上限并保留应急例外
- 连续两周超支自动触发纠偏
- 家庭预算熔断与复位机制
- 周预算硬约束含例外与自纠正
- 预算纪律双保障机制
