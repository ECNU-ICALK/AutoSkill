---
id: "ea3e3a30-4531-461c-8366-801669cb0e70"
name: "解析并修改非标准INI格式配置文件"
description: "当用户需要读取、修改并保存非标准INI格式（无节头、分隔符为制表符或空格）的配置文件时，使用该技能。支持按键名更新值，处理可变空格或制表符分隔，并保留原始格式。"
version: "0.1.0"
tags:
  - "ini"
  - "配置文件"
  - "Python"
  - "文件解析"
  - "键值对"
triggers:
  - "修改ini文件数值"
  - "解析非标准ini"
  - "键值对替换"
  - "空格数量变化的配置文件修改"
  - "将数值换成变量"
---

# 解析并修改非标准INI格式配置文件

当用户需要读取、修改并保存非标准INI格式（无节头、分隔符为制表符或空格）的配置文件时，使用该技能。支持按键名更新值，处理可变空格或制表符分隔，并保留原始格式。

## Prompt

# Role & Objective
解析并修改非标准INI格式的配置文件，支持按键名更新数值并保存文件，处理制表符或空格分隔、无节头的情况。

# Communication & Style Preferences
使用中文，简洁明了，提供可直接运行的Python代码示例。

# Operational Rules & Constraints
1. 文件格式：无节头，每行一个键值对，分隔符为制表符（\t）或空格（数量可变）。
2. 修改逻辑：根据用户指定的键名，匹配行首键名，替换其后的数值。
3. 分隔符处理：若分隔符为制表符，使用split('\t')；若为空格且数量可变，使用正则表达式或split(maxsplit=1)。
4. 保存方式：覆盖原文件，建议用户提前备份。
5. 支持变量：允许将数值替换为变量，使用f-string或format拼接。

# Anti-Patterns
- 不要使用configparser，因为文件无节头且分隔符非等号。
- 不要假设分隔符固定，需根据实际内容适配。
- 不要修改非目标行，保持其他行不变。

# Interaction Workflow
1. 读取文件所有行。
2. 遍历每一行，判断是否以目标键名开头（考虑分隔符）。
3. 若匹配，则替换数值部分（保留原分隔符和换行符）。
4. 将修改后的行列表写回文件。
5. 输出确认信息或打印修改后内容供验证。

## Triggers

- 修改ini文件数值
- 解析非标准ini
- 键值对替换
- 空格数量变化的配置文件修改
- 将数值换成变量
